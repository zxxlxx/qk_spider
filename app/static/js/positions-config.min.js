/*! mercury - v0.1.0 - 2016-11-18
    Copyright 2016 Palantir */
(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;d=".positions-list",c="/careers/teams/",e="https://api.lever.co/v0/postings/palantir?mode=json",i=[],h={},g=["Palo Alto, CA","New York, NY","Washington, D.C.","London, United Kingdom"],b={"North America":["Palo Alto, CA","New York, NY","Washington, D.C.","Ottawa, Canada","Toronto, Canada","Seattle, WA"],"Europe & Middle East":["Copenhagen, Denmark","London, United Kingdom","Tel Aviv, Israel","Stockholm, Sweden","Paris, France","Helsinki, Finland","Oslo, Norway"],"Asia & Pacific":["Sydney, Australia","Canberra, Australia","Melbourne, Australia","Wellington, New Zealand","Singapore, Singapore","Tokyo, Japan"]},a={Dev:"Engineering",Delta:"Engineering",QE:"Engineering",Echo:"Business Development",DCE:"Business Development",Droid:"Business Development"},f={"Software Engineer, Site Reliability Engineering":"Engineering","Product Support Engineer":"Engineering"},$(window).load(function(){return s(function(a){return a=B(a),w(a),z(a)})}),w=function(a){var b,c,d,e;d=t(a,"location"),e=[];for(c in d)b=d[c],e.push(h[A(c)]=c);return e},s=function(a){return $.ajax(e).done(a)},t=function(a,b){var c,d,e,f,g;for(f={},c=0,e=a.length;c<e;c++)g=a[c],d=g.categories[b],f[d]||(f[d]=[]),f[d].push(g);return f},B=function(b){var c,d,e,h,i,j,k,l,m,n,o,p,q,r,s;for(h=0,l=b.length;h<l;h++)q=b[h],d=q.categories.commitment,f[q.text]&&(q.categories.team=f[q.text]),d&&"Internship"===d&&(q.text=q.text+", "+d),e=a[q.categories.team],e&&(q.categories.team=e);for(b.sort(function(a,b){return a.text===b.text?0:a.text<b.text?-1:1}),s=[],c={},i=0,m=g.length;i<m;i++)for(p=g[i],j=0,n=b.length;j<n;j++)q=b[j],r=q.id,c[r]||q.categories.location===p&&(s.push(q),c[r]=!0);for(k=0,o=b.length;k<o;k++)q=b[k],r=q.id,c[r]||(s.push(q),c[r]=!0);return s},z=function(a,b,c){var d;for(d in TEAM_TAGS)i.push(d);return r(a),$(".all-positions").on("click","#positions-location-filter .dropdown-menu a",function(b){var c;if(b.preventDefault(),c="all-offices"http://www.palantir.com/build/js/===this.id?(window.location.hash="",x()):n(a,$(this).data("office")),j(c),$("body").scrollTop($(".all-positions").offset().top-$(".navbar").innerHeight()),$("#positions-type-filter").hasClass("is-active"))return $("#positions-type-filter").removeClass("is-active"),$("#position-type").removeClass("is-active"),$(".positions-list").removeClass("is-filtered"),$(".positions-list .highlight").removeClass("highlight")}),$(".all-positions").on("click","#positions-location-filter .dropdown-clear",function(a){return a.preventDefault(),a.stopPropagation(),window.location.hash="",x(),j(),$("body").scrollTop($(".all-positions").offset().top-$(".navbar").innerHeight())}),$(".all-positions").on("click","#positions-type-filter .dropdown-clear",function(a){return a.preventDefault(),a.stopPropagation(),$(".dropdown.open").removeClass("open"),$("#positions-type-filter").removeClass("is-active"),$("#position-type").removeClass("is-active"),$(".positions-list").removeClass("is-filtered"),$(".positions-list .highlight").removeClass("highlight"),$("#position-type .dropdown-label").text("I'm interested in â€¦"),$(".dropdown-toggle").blur(),j()}),$(".all-positions").on("click","#positions-type-filter .dropdown-menu li a",function(a){var b;return a.preventDefault(),b=$(a.currentTarget).data("type"),$("#positions-type-filter").addClass("is-active"),$("#position-type .dropdown-label").text(TEAM_TAGS[b]),$(".positions-list").addClass("is-filtered"),$(".positions-list .highlight").removeClass("highlight"),$(".positions-list ."+b).addClass("highlight"),$(".dropdown-toggle").blur(),$("body").scrollTop($(".all-positions").offset().top-$(".navbar").innerHeight()),j()}),window.onpopstate=function(){return y().then(function(){return m(a)})},m(a)},m=function(a){var b,c;return"/careers/"===window.location.pathname?null!=window.location.hash&&"#"!==window.location.hash&&(c=window.location.hash.slice(1),null!=h[c]&&(b=h[c])):(c=window.location.pathname.replace(/^\/.*\/([^\/]+)\/?/,"$1"),null!=h[c]&&(b=h[c])),null==b?j(u()):null!=b?j(n(a,b)):void 0},n=function(a,b){var c;return"/careers/"===window.location.pathname&&(window.location.hash="#"+A(b)),c=$.when(y()).then(function(){var c,d,e,f,g,h,i,j,l,m;for(e=[],f=0,h=a.length;f<h;f++)l=a[f],l.categories.location===b&&e.push(l);if(a=e,null==l)throw new Error("No office named '"+b+"'");for(d={},g=0,i=a.length;g<i;g++)l=a[g],c=l.categories.team,j=l.categories.location,null==d[c]&&(d[c]={department_title:c,positions:[],department_link:q(c),is_single_office:!0}),d[c].positions.push(k(l));return d=function(){var a,b,e,f;for(e=Object.keys(d).sort(),f=[],a=0,b=e.length;a<b;a++)c=e[a],f.push(d[c]);return f}(),m={positions_count:a.length,positions:a,office_slug:A(b),team_tags:TEAM_TAGS,office_name:b,departments:d,offices:FULL_TEMPLATE_DATA.offices,continents:FULL_TEMPLATE_DATA.continents},window.FILTERED_OFFICE_DATA=m,m}),$.when(c).then(function(a){return null!=$(".positions-filters")&&v("positions_office_selector","positions-filters",a),v("department_listing","positions-list",a)})},q=function(a){var b,d;return b=a.toLowerCase().trim(),d=new RegExp(/\s+/g),b=b.replace(d,"-"),""+c+b+"/"},r=function(a){var c,d,e,f,g,h,i,j,k,m,n,o;return e=t(a,"team"),k=t(a,"location"),o={total_positions_count:a.length,office_count:Object.keys(k).length,is_single_office:!1,departments:function(){var a,b,i,j,k,o;for(k=Object.keys(e).sort(),o=[],a=0,i=k.length;a<i;a++){for(d=k[a],f=e[d],n=l(f),h={},b=0,j=n.length;b<j;b++)m=n[b],g=m.label,null!=h[g]?h[g].has_multiple_locations=!0:h[g]={position_name:g,positions:[],has_multiple_locations:!1},h[g].positions.push(m);o.push(c={department_title:d,department_link:q(d),position_names:h,positions:n})}return o}(),offices:function(){var a;a=[];for(i in k)j=k[i],a.push(c={office_name:i,positions:j,positions_count:j.length});return a}(),continents:b,team_tags:TEAM_TAGS},this.FULL_TEMPLATE_DATA=o},u=function(){return v("positions_office_selector","positions-filters",FULL_TEMPLATE_DATA),v("department_listing","positions-list",FULL_TEMPLATE_DATA)},k=function(a){var b;return b={label:a.text,location:a.categories.location,link_url:a.hostedUrl,offices:a.offices,tag_classes:null!=a.tags?" "+a.tags.join(" "):""}},l=function(a){var b,c;return c=function(){var c,d,e;for(e=[],c=0,d=a.length;c<d;c++)b=a[c],e.push(k(b));return e}()},x=function(){return $.when(y()).then(function(){return v("positions_office_selector","positions-filters",FULL_TEMPLATE_DATA),v("department_listing","positions-list",FULL_TEMPLATE_DATA)})},v=function(a,b,c){var d;return d=new $.Deferred(function(d){var e,f,g;return g=JST[a](c),f=$("."+b),f.html(g),d.then("HTML properly injected"),e=function(){return d.resolve(g)},setTimeout(e,0)}),d.promise()},p=function(a){var b,c,d;d=POSITIONS.positions;for(b in d)if(c=d[b],c.label===a)return c;return null},o=function(a){var b;return b=POSITIONS.jobs[a]},y=function(){var a;return a=$.Deferred(function(a){var b,c,e,f;return e=$(".positions-list"),c=e.parent(),e.remove(),b=$('<div class="positions-list"></div>'),c.append(b),f=function(){return a.resolve(c.children(d))},setTimeout(f,0)}),a.promise()},j=function(a){var b;return b=$(d),null==a&&(a=b.promise()),$.when(a).then(function(){var a;return a=$.Deferred(function(a){var c;return c=function(){return b.masonry({itemSelector:".positions-list-department",isFitWidth:!1,isInitLayout:!1}),b.masonry("once","layoutComplete",function(){return a.resolve()}),b.masonry("layout")},setTimeout(c,0)}),a.promise()})},A=function(a){return null!=a?a.split(",")[0].toLowerCase().replace(" ",""):void 0}}).call(this);
//# sourceMappingURL=positions-config.min.js.map